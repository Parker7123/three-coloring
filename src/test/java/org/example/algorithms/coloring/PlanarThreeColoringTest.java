package org.example.algorithms.coloring;

import org.jgrapht.Graph;
import org.jgrapht.graph.DefaultEdge;
import org.jgrapht.graph.SimpleGraph;
import org.jgrapht.nio.graph6.Graph6Sparse6Importer;
import org.jgrapht.util.SupplierUtil;
import org.junit.jupiter.api.Test;

import java.io.StringReader;
import java.time.Instant;

class PlanarThreeColoringTest {

    @Test
    void bigGridGraphTest() {
        Graph<Integer, DefaultEdge> graph = new SimpleGraph<>(SupplierUtil.createIntegerSupplier(),
                SupplierUtil.createDefaultEdgeSupplier(), false);
        Graph6Sparse6Importer<Integer, DefaultEdge> importer = new Graph6Sparse6Importer<>();
        importer.importGraph(graph, new StringReader("~?@d??????????????????????o??o?????C?????????@?????????????????????????O???A?????_???@????C????C???G?????_????_????@?????@??????O?????G??????_??????_??????_???????G??????A???????_??????A???????O???????O???????C???????@?????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????@??????????O??????????G??????????_??????????C??????????C???????????G??????????AG??????????@_??????????C?????B???O??????????E?O?????????E?G???????C?B??????????_?o???????@?????W????????Q????C???????E????C?????????K?????????????E????????????@_???????????????E???C????????@O????????O????C???@????_????@???O?????C?O?????CG?????_A??????`?????A????C????G????G?????_??G_???@G?????????G??????????A???@??????????C??A?A?????????@?????OA???_??????????KG?????????????_O@???????????????RGC@_??????@??????@?o???????O??????"));

        var planarThreeColoring = new PlanarThreeColoring<>(graph, false);

        long start = Instant.now().toEpochMilli();
        var coloring = planarThreeColoring.getColoring();
        long end = Instant.now().toEpochMilli();
        System.out.println(end - start);
        System.out.println(coloring);
    }

}